<odoo>
    <data>

        <record id="inherit_view_form_account_payment_check" model="ir.ui.view">
            <field name="name">account.payment.form.inherit</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">

                <xpath expr="//form/header/field[@name='state']" position="replace">
                    <field name="state" widget="statusbar" statusbar_visible="draft,check,posted"/> 
                </xpath>
               
                <xpath expr="//button[@name='action_post']" position="before">
                    <button name="check_button" type="object" 
                    groups="account_payment_states_erisp.group_account_user_check" string="Check" invisible="state != 'draft'" class="oe_highlight"/> 
                    <!-- <button name="check_button" type="object" string="Check" attrs="{'invisible': [('state', '!=', 'draft')]}" class="oe_highlight"/>  -->
                </xpath>

                <xpath expr="//button[@name='action_post']" position="attributes">
                    <attribute name="invisible">state != 'check'</attribute>
                    <attribute name="groups">account_payment_states_erisp.group_account_user_approve</attribute>

                </xpath>
               
            </field>
        </record>


    </data>
</odoo>